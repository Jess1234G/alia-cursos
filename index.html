<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alia IA · Consultoría en IA</title>
    <!-- Estilos de fullPage.js -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.0.7/fullpage.min.css">
    <style>
        /* ===== RESET Y VARIABLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
         --bg-primary: #000000;        /* Fondo negro */
         --text-primary: #f8f8fc;
         --text-secondary: #c8c8ce;
         --border-light: #222;         /* Borde más oscuro */
         --accent: #000;
         --transition-smooth: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            overflow: hidden; /* fullPage maneja el scroll */
        }

        /* ===== TIPOGRAFÍA ===== */
        h1 {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 600;
            letter-spacing: -0.02em;
            margin-bottom: 1.5rem;
        }

        h2 {
           font-family: 'Playfair Display', serif;
           font-size: clamp(2.2rem, 4.5vw, 2.8rem);
           font-weight: 400;
           margin-bottom: 2rem;
           padding-bottom: 0.5rem;
           letter-spacing: -0.01em;
        }

        /* ===== MENÚ SUPERIOR ===== */
        .top-menu {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 3rem;
            background-color: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            font-weight: 500;
            color: var(--text-primary);
            text-decoration: none;
            letter-spacing: -0.02em;
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-secondary);
            font-family: 'Playfair Display', serif;
            font-weight: 400;
            font-size: 0.95rem;
            letter-spacing: 0.05em;
            text-transform: none;
            transition: all 0.3s ease;
            padding: 0.5rem 0;
        }

        .nav-links a:hover {
            color: var(--text-primary);
            transform: translateY(-1px);
        }

        .nav-links a[href="#contacto"] {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.6rem 1.2rem;
            border-radius: 25px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-links a[href="#contacto"]:hover {
            background-color: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        /* Menú hamburguesa (móvil) */
        .menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
        }

        .menu-toggle span {
            width: 25px;
            height: 2px;
            background-color: var(--text-primary);
            margin: 3px 0;
        }

        /* ===== SECCIONES ===== */
        .section {
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 4rem 2rem;
        }

        .section-content {
            max-width: 1200px;
            width: 100%;
        }

        /* ===== TARJETAS DE CURSOS ===== */
        .cursos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            margin-top: 3rem;
            position: relative;
        }

        .curso-card {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }

        .curso-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        }

        .curso-imagen {
            width: 100%;
            height: 200px;
            overflow: hidden;
            position: relative;
        }

        .curso-imagen img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }

        .curso-card:hover .curso-imagen img {
            transform: scale(1.05);
        }

        .curso-info {
            padding: 1.5rem;
        }

        .curso-titulo {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            font-weight: 500;
            color: var(--text-primary);
            margin: 0;
            text-align: center;
        }

        .placeholder-imagen {
            background: linear-gradient(45deg, #333, #555);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 1rem;
        }

        .btn-comprar {
            background: white;
            color: black;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1.5rem;
            width: 100%;
            max-width: 220px;
            display: block;
            margin-left: auto;
            margin-right: auto;
            font-family: 'Inter', sans-serif;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 15px rgba(255,255,255,0.15);
        }

        .btn-comprar:hover {
            background: #f8f8f8;
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(255,255,255,0.25);
        }

        .btn-comprar:active {
            transform: translateY(-1px);
        }

        /* Responsive para móviles */
        @media (max-width: 768px) {
            .btn-comprar {
                max-width: 180px;
                padding: 0.9rem 1.5rem;
                font-size: 0.95rem;
            }
        }

        .curso-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .curso-item .curso-card {
            width: 100%;
        }

        .curso-item .btn-comprar {
            margin-top: 1.25rem;
        }

        /* ===== MODAL DE COMPRA ===== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            padding: 3rem;
            border-radius: 25px;
            max-width: 600px;
            width: 90%;
            position: relative;
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
        }

        .close-modal {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            font-size: 2.5rem;
            cursor: pointer;
            line-height: 1;
            color: var(--text-secondary);
            transition: color 0.3s ease;
            z-index: 10;
        }

        .close-modal:hover {
            color: var(--text-primary);
        }

        .form-group {
            margin-bottom: 1.8rem;
        }

        .form-group label {
            display: block;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
            font-family: 'Inter', sans-serif;
        }

        .form-group input {
            width: 100%;
            padding: 1rem;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            font-size: 1rem;
            background: rgba(255,255,255,0.05);
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--primary-color);
            background: rgba(255,255,255,0.08);
        }

        /* ===== ESTILOS MODAL MEJORADO ===== */
        .modal-paso {
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #modal-titulo-curso {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        #modal-descripcion {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        #modal-detalles {
            background: rgba(255,255,255,0.05);
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }

        #modal-detalles p {
            margin: 0.5rem 0;
            color: var(--text-secondary);
        }

        .btn-confirmar, .btn-pagar {
            background: white;
            color: black;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .btn-confirmar:hover, .btn-pagar:hover {
            background: #f0f0f0;
            transform: translateY(-2px);
        }

        .resumen-compra {
            background: rgba(255,255,255,0.05);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }

        .resumen-item {
            display: flex;
            justify-content: space-between;
            margin: 1rem 0;
            color: var(--text-secondary);
        }

        .resumen-item span:last-child {
            color: var(--text-primary);
            font-weight: 600;
        }

        .resumen-datos {
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .resumen-datos h4 {
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .resumen-datos p {
            color: var(--text-secondary);
            margin: 0.25rem 0;
        }

        .compra-exitosa {
            text-align: center;
            padding: 2rem;
        }

        .compra-exitosa h3 {
            color: #4CAF50;
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        /* ===== SECCIÓN FUNDADOR ===== */
        .fundador-content {
            display: flex;
            flex-wrap: wrap;
            gap: 3rem;
            align-items: center;
            justify-content: center;
        }

        .fundador-imagen {
            flex: 0 0 220px;
        }

        .img-placeholder {
            width: 220px;
            height: 220px;
            border-radius: 50%;
            background: #e0e0e5;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .fundador-texto {
            flex: 1;
            text-align: left;
            max-width: 600px;
        }

        .fundador-texto p {
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        /* ===== FORMULARIO DE CONTACTO ===== */
        .contacto-form {
            max-width: 600px;
            margin: 2rem auto 0;
            text-align: left;
        }

        .contacto-form input,
        .contacto-form select,
        .contacto-form textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid var(--border-light);
            border-radius: 8px;
            margin-bottom: 1.2rem;
            font-family: inherit;
        }

        .contacto-form button {
            background: var(--text-primary);
            color: white;
            border: none;
            padding: 1rem;
            width: 100%;
            border-radius: 40px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
        }

        .footer-links {
            margin-top: 2rem;
            display: flex;
            justify-content: center;
            gap: 2rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .footer-links a {
            color: inherit;
            text-decoration: none;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .top-menu {
                padding: 1rem 1.5rem;
            }

            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: var(--bg-primary);
                flex-direction: column;
                align-items: center;
                padding: 1rem;
                border-bottom: 1px solid var(--border-light);
            }

            .nav-links.active {
                display: flex;
            }

            .menu-toggle {
                display: flex;
            }

            .fundador-content {
                flex-direction: column;
                text-align: center;
            }

            .fundador-texto {
                text-align: center;
            }

            .cursos-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Ajustes para fullPage */
        #fp-nav ul li a span {
            background: var(--text-primary);
        }

        /* ===== HERO SECTION (INICIO) ===== */
        .hero-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1200px;
            width: 100%;
            gap: 3rem;
            padding: 0 5rem;
            margin: 0 auto;
        }

        .hero-text h1 {
           font-family: 'Playfair Display', serif;
           font-size: clamp(3.5rem, 6vw, 5rem);
           font-weight: 400;
           margin-bottom: 0.5rem;
           line-height: 1.1;
           letter-spacing: -0.02em;
        }

        .hero-text .subtitle {
           font-family: 'Inter', sans-serif;
           font-size: clamp(0.85rem, 1.2vw, 0.95rem);
           color: var(--text-secondary);
           letter-spacing: 0.2em;
           text-transform: uppercase;
           font-weight: 300;
         line-height: 1.6;
        }

        .hero-image {
            flex: 0 0 35%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .hero-image img {
            width: 100%;
            max-width: 500px;
            height: auto;
            border-radius: 50%;
            object-fit: cover;
            aspect-ratio: 1/1;
            box-shadow: 0 30px 80px rgba(0,0,0,0.5);
        }

        @media (max-width: 1200px) {
            .hero-container {
                gap: 3rem;
                padding: 0 2rem;
            }

            .hero-image img {
                max-width: 400px;
            }
        }

        @media (max-width: 968px) {
            .hero-container {
                flex-direction: column;
                text-align: center;
                gap: 3rem;
                padding: 0 1.5rem;
            }

            .hero-text {
                flex: 1;
                text-align: center;
            }

            .hero-image {
                flex: 1;
                justify-content: center;
            }

            .hero-image img {
                max-width: 440px;
            }
        }
        
        /* Fix para fullPage.js con header fijo */
        #fullpage {
            position: relative;
            z-index: 1;
        }

        .section {
            position: relative;
            z-index: 1;
        }

        /* Asegurar que el header esté por encima */
        .top-menu {
            z-index: 1001;
        }

        /* Corrección para el descuadre al volver arriba */
        .fp-section {
            backface-visibility: hidden;
            transform: translateZ(0);
        }

        /* Evitar problemas con el scroll */
        html, body {
            overflow-x: hidden;
        }

    </style>

    <!-- Fuente Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet">
</head>
<body>
    <!-- MENÚ SUPERIOR -->
    <header class="top-menu">
        <a href="#inicio" class="logo">Alia IA</a>
        <div class="menu-toggle" id="menu-toggle">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <nav class="nav-links" id="nav-links">
            <a href="#inicio">Inicio</a>
            <a href="#quienes-somos">¿Quienes somos?</a>
            <a href="#cursos">Cursos</a>
            <a href="#contacto">Contacto</a>
        </nav>
    </header>

    <!-- CONTENIDO PRINCIPAL (fullPage) -->
    <div id="fullpage">
        <!-- SECCIÓN INICIO -->
        <div class="section" data-anchor="inicio">
           <div class="hero-container">
              <div class="hero-text">
                 <h1>Alexsander <span style="color: #939393;">Lopez.</span></h1>
                 <p class="subtitle">INFORMATICO • EMPRENDEDOR • EXPERTO EN IA</p>
             </div>
               <div class="hero-image">
                  <img src="https://i.ibb.co/ZznMK7LD/Imagen-Alex-2.png" alt="Alexsander Lopez">
               </div>
          </div>
      </div>

        <!-- SECCIÓN ¿Quienes somos? -->
        <div class="section" data-anchor="quienes-somos">
           <div class="section-content">
             <h2>Sobre nosotros</h2>
               <div class="fundador-content">
                  <div class="fundador-imagen">
                     <!-- Aquí debes colocar tu imagen real -->
                      <img src="https://i.ibb.co/B2q190kR/6.jpg" alt="Alexsander Lopez" style="width: 220px; height: 220px; border-radius: 50%; object-fit: cover;">
                  </div>
                  <div class="fundador-texto">
                        <p>En Alia, ofrecemos servicios educativos para fortalecer tus conocimientos. Te recomendamos cosas que funcionan y fomentamos el uso de agentes de IA automatizados. Nuestros productos resuelven problemas reales y ayudan a cientos de empresarios a escalar sus negocios.</p>
                 </div>
              </div>
          </div>
      </div>

        <!-- SECCIÓN CURSOS (3 TARJETAS) -->
        <div class="section" data-anchor="cursos">
            <div class="section-content">
                <h2>Cursos</h2>
                <div class="cursos-grid">
                   <!-- Tarjeta 1 -->
                   <div class="curso-item" data-curso="in-alia">
                       <div class="curso-card">
                           <div class="curso-imagen">
                               <img src="" alt="IN ALIA" class="placeholder-imagen">
                           </div>
                           <div class="curso-info">
                               <h3 class="curso-titulo">IN ALIA</h3>
                           </div>
                       </div>
                       <button class="btn-comprar" onclick="abrirModal('in-alia')">COMPRAR</button>
                   </div>

                   <!-- Tarjeta 2 -->
                   <div class="curso-item" data-curso="ia-avanzada">
                       <div class="curso-card">
                           <div class="curso-imagen">
                               <img src="" alt="IA AVANZADA" class="placeholder-imagen">
                           </div>
                           <div class="curso-info">
                               <h3 class="curso-titulo">IA AVANZADA</h3>
                           </div>
                       </div>
                       <button class="btn-comprar" onclick="abrirModal('ia-avanzada')">COMPRAR</button>
                   </div>

                   <!-- Tarjeta 3 -->
                   <div class="curso-item" data-curso="agentes-autonomos">
                       <div class="curso-card">
                           <div class="curso-imagen">
                               <img src="" alt="AGENTES AUTÓNOMOS" class="placeholder-imagen">
                           </div>
                           <div class="curso-info">
                               <h3 class="curso-titulo">AGENTES AUTÓNOMOS</h3>
                           </div>
                       </div>
                       <button class="btn-comprar" onclick="abrirModal('agentes-autonomos')">COMPRAR</button>
                   </div>
               </div>
           </div>
       </div>

        <!-- SECCIÓN CONTACTO -->
        <div class="section" data-anchor="contacto">
            <div class="section-content">
                <h2>Contacto</h2>
                <form class="contacto-form" id="contactForm" onsubmit="event.preventDefault(); alert('Mensaje enviado (simulación)');">
                    <input type="text" placeholder="Nombre completo" required>
                    <input type="email" placeholder="Correo electrónico" required>
                    <select required>
                        <option value="">Motivo de contacto</option>
                        <option>Información de cursos</option>
                        <option>Colaboración</option>
                        <option>Otro</option>
                    </select>
                    <textarea rows="4" placeholder="Mensaje" required></textarea>
                    <button type="submit">Enviar mensaje</button>
                </form>
                <div class="footer-links">
                    <a href="#">Términos y condiciones</a>
                    <a href="#">Cookies</a>
                    <a href="#">Políticas de privacidad</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.0.7/fullpage.min.js"></script>
    <script>
        // Inicializar fullPage
        new fullpage('#fullpage', {
           autoScrolling: true,
           navigation: true,
           navigationPosition: 'right',
           scrollingSpeed: 700,
           anchors: ['inicio', 'quienes-somos', 'cursos', 'contacto'],
           menu: '.nav-links',
           responsiveWidth: 768,
           afterResponsive: function(isResponsive){},
           scrollOverflow: true,
           fitToSection: false,
           paddingTop: '80px',
           paddingBottom: '0px',
           normalScrollElements: '.top-menu',
           afterLoad: function(origin, destination, direction) {
               setTimeout(function() {
                   window.dispatchEvent(new Event('resize'));
               }, 100);
           }
       });

        // Datos de los cursos
        const cursosData = {
            'in-alia': {
                nombre: 'IN ALIA',
                descripcion: 'En este curso aprenderás a usar agentes de IA para administrar, gestionar y escalar tu negocio. Ideal para principiantes que quieren empezar en el mundo de la inteligencia artificial.',
                precio: '$97 USD',
                evento: 'Asincrónico',
                modalidad: 'Virtual',
                fecha: '14/03/2026 - 08:00 A.M.',
                urlPago: 'https://paypal.com/example/in-alia'
            },
            'ia-avanzada': {
                nombre: 'IA AVANZADA',
                descripcion: 'Domina agentes autónomos, automatizaciones complejas y estrategias avanzadas de IA para llevar tu negocio al siguiente nivel.',
                precio: '$147 USD',
                evento: 'Asincrónico',
                modalidad: 'Virtual',
                fecha: '21/03/2026 - 10:00 A.M.',
                urlPago: 'https://paypal.com/example/ia-avanzada'
            },
            'agentes-autonomos': {
                nombre: 'AGENTES AUTÓNOMOS',
                descripcion: 'Aprende a crear y desplegar agentes de IA que trabajen por ti 24/7, automatizando tareas complejas y generando ingresos pasivos.',
                precio: '$127 USD',
                evento: 'Asincrónico',
                modalidad: 'Virtual',
                fecha: '28/03/2026 - 09:00 A.M.',
                urlPago: 'https://paypal.com/example/agentes-autonomos'
            }
        };

        function escapeHtml(value) {
            return String(value)
                .replaceAll('&', '&amp;')
                .replaceAll('<', '&lt;')
                .replaceAll('>', '&gt;')
                .replaceAll('"', '&quot;')
                .replaceAll("'", '&#039;');
        }

        // Abre el checkout en una pestaña/ventana nueva (no dentro de la página principal)
        function abrirModal(cursoId) {
            const curso = cursosData[cursoId];
            if (!curso) return;

            const w = window.open('', '_blank', 'noopener,noreferrer');
            if (!w) {
                alert('Tu navegador bloqueó la ventana emergente. Habilita popups para este sitio y vuelve a intentar.');
                return;
            }

            const pageTitle = 'Checkout - ' + curso.nombre;
            const cursoNombre = escapeHtml(curso.nombre);
            const cursoDesc = escapeHtml(curso.descripcion);
            const cursoPrecio = escapeHtml(curso.precio);
            const cursoEvento = escapeHtml(curso.evento);
            const cursoModalidad = escapeHtml(curso.modalidad);
            const cursoFecha = escapeHtml(curso.fecha);
            const notifyEmail = 'jesusdavidguerrero2018@gmail.com';
            const cursoJson = JSON.stringify(curso).replaceAll('</', '<\\/');

            const html =
                '<!doctype html>' +
                '<html lang="es">' +
                '<head>' +
                '  <meta charset="utf-8" />' +
                '  <meta name="viewport" content="width=device-width, initial-scale=1" />' +
                '  <title>' + escapeHtml(pageTitle) + '</title>' +
                '  <link rel="preconnect" href="https://fonts.googleapis.com">' +
                '  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>' +
                '  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet">' +
                '  <style>' +
                '    :root{--bg:#0b0b0b;--muted:#9a9a9a;--border:rgba(255,255,255,.08);--white:#fff;--black:#000;}' +
                '    *{box-sizing:border-box}' +
                '    body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:radial-gradient(1200px 600px at 40% 10%, rgba(255,255,255,.08), transparent 60%), var(--bg);color:var(--white);}' +
                '    .wrap{max-width:980px;margin:0 auto;padding:48px 20px;}' +
                '    .top{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;margin-bottom:24px;}' +
                '    h1{font-family:\'Playfair Display\',serif;font-weight:400;margin:0;font-size:clamp(2rem,4vw,3rem);letter-spacing:-.02em;}' +
                '    h2{font-family:\'Playfair Display\',serif;font-weight:400;margin:0 0 10px 0;}' +
                '    .badge{border:1px solid var(--border);padding:10px 14px;border-radius:999px;color:var(--muted);font-size:12px;letter-spacing:.14em;text-transform:uppercase;}' +
                '    .grid{display:grid;grid-template-columns:1.1fr .9fr;gap:18px;}' +
                '    @media (max-width: 900px){.grid{grid-template-columns:1fr}}' +
                '    .card{background:linear-gradient(135deg,#121212 0%,#1b1b1b 100%);border:1px solid var(--border);border-radius:18px;padding:22px;box-shadow:0 24px 60px rgba(0,0,0,.5)}' +
                '    .muted{color:var(--muted);line-height:1.7}' +
                '    .kvs{margin-top:14px;border-top:1px solid var(--border);padding-top:14px;display:grid;gap:8px}' +
                '    .kv{display:flex;justify-content:space-between;gap:12px;color:var(--muted)}' +
                '    .kv b{color:var(--white);font-weight:600}' +
                '    label{display:block;color:var(--muted);font-size:13px;margin:10px 0 6px}' +
                '    input{width:100%;padding:12px;border-radius:12px;border:1px solid var(--border);background:rgba(255,255,255,.04);color:var(--white);outline:none}' +
                '    input:focus{border-color:rgba(255,255,255,.22)}' +
                '    .btn{width:100%;padding:13px 16px;border-radius:999px;border:0;cursor:pointer;font-weight:700;letter-spacing:.08em;text-transform:uppercase}' +
                '    .btn-primary{background:#fff;color:#000;box-shadow:0 10px 28px rgba(255,255,255,.14)}' +
                '    .btn-secondary{background:rgba(255,255,255,.06);color:#fff;border:1px solid var(--border)}' +
                '    .row{display:flex;gap:10px}' +
                '    .row>*{flex:1}' +
                '    .step{display:none}' +
                '    .step.active{display:block}' +
                '    .summary{display:grid;gap:10px}' +
                '    .line{display:flex;justify-content:space-between;gap:12px}' +
                '    .success{padding:18px;border-radius:14px;border:1px solid rgba(76,175,80,.25);background:rgba(76,175,80,.06)}' +
                '  </style>' +
                '</head>' +
                '<body>' +
                '  <div class="wrap">' +
                '    <div class="top">' +
                '      <div>' +
                '        <h1>' + cursoNombre + '</h1>' +
                '        <div class="muted" style="margin-top:10px">' + cursoDesc + '</div>' +
                '      </div>' +
                '      <div class="badge">Checkout seguro</div>' +
                '    </div>' +
                '    <div class="grid">' +
                '      <div class="card">' +
                '        <div class="kvs">' +
                '          <div class="kv"><span>Evento</span><b>' + cursoEvento + '</b></div>' +
                '          <div class="kv"><span>Modalidad</span><b>' + cursoModalidad + '</b></div>' +
                '          <div class="kv"><span>Fecha y hora</span><b>' + cursoFecha + '</b></div>' +
                '        </div>' +
                '        <div style="margin-top:18px" id="step1" class="step active">' +
                '          <h2>Tus datos</h2>' +
                '          <div class="muted">Completa tus datos para continuar.</div>' +
                '          <form id="formDatos">' +
                '            <label>Nombre completo</label><input id="nombre" required />' +
                '            <label>Correo electrónico</label><input id="email" type="email" required />' +
                '            <div class="row">' +
                '              <div><label>Número de teléfono</label><input id="telefono" required /></div>' +
                '              <div><label>WhatsApp</label><input id="whatsapp" required /></div>' +
                '            </div>' +
                '            <div style="margin-top:16px" class="row">' +
                '              <button class="btn btn-primary" type="submit">Confirmar datos</button>' +
                '              <button class="btn btn-secondary" type="button" id="cerrar">Cerrar</button>' +
                '            </div>' +
                '          </form>' +
                '        </div>' +
                '        <div style="margin-top:18px" id="step2" class="step">' +
                '          <h2>Resumen</h2>' +
                '          <div class="summary">' +
                '            <div class="line"><span class="muted">Curso</span><b>' + cursoNombre + '</b></div>' +
                '            <div class="line"><span class="muted">Total a pagar</span><b>' + cursoPrecio + '</b></div>' +
                '            <div style="height:1px;background:rgba(255,255,255,.08)"></div>' +
                '            <div class="muted" id="datosOut"></div>' +
                '          </div>' +
                '          <div style="margin-top:16px" class="row">' +
                '            <button class="btn btn-primary" type="button" id="pagar">Pagar</button>' +
                '            <button class="btn btn-secondary" type="button" id="volver">Editar datos</button>' +
                '          </div>' +
                '        </div>' +
                '        <div style="margin-top:18px" id="step3" class="step">' +
                '          <div class="success">' +
                '            <h2>¡Compra exitosa!</h2>' +
                '            <div class="muted">En 5 minutos validaremos tu pago y te enviaremos toda la información respecto al curso.</div>' +
                '          </div>' +
                '          <div style="margin-top:16px"><button class="btn btn-secondary" type="button" id="cerrar2">Cerrar</button></div>' +
                '        </div>' +
                '      </div>' +
                '      <div class="card">' +
                '        <h2>Detalles de compra</h2>' +
                '        <div class="muted">Al confirmar y pagar, se abrirá la pasarela de pago en otra pestaña.</div>' +
                '        <div class="kvs" style="margin-top:14px">' +
                '          <div class="kv"><span>Precio</span><b>' + cursoPrecio + '</b></div>' +
                '          <div class="kv"><span>Soporte</span><b>' + escapeHtml(notifyEmail) + '</b></div>' +
                '        </div>' +
                '        <div class="muted" style="margin-top:14px;font-size:12px">Nota: Para enviar correo automáticamente se requiere un backend.</div>' +
                '      </div>' +
                '    </div>' +
                '  </div>' +
                '  <script>' +
                '    const notifyEmail = ' + JSON.stringify(notifyEmail) + ';' +
                '    const curso = ' + cursoJson + ';' +
                '    let datos = null;' +
                '    function esc(v){return String(v).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll("\"","&quot;").replaceAll("\'","&#039;");}' +
                '    function show(id){document.querySelectorAll(".step").forEach(s=>s.classList.remove("active"));document.getElementById(id).classList.add("active");}' +
                '    document.getElementById("cerrar").addEventListener("click",()=>window.close());' +
                '    document.getElementById("cerrar2").addEventListener("click",()=>window.close());' +
                '    document.getElementById("volver").addEventListener("click",()=>show("step1"));' +
                '    document.getElementById("formDatos").addEventListener("submit",(e)=>{' +
                '      e.preventDefault();' +
                '      datos={nombre:document.getElementById("nombre").value.trim(),email:document.getElementById("email").value.trim(),telefono:document.getElementById("telefono").value.trim(),whatsapp:document.getElementById("whatsapp").value.trim()};' +
                '      document.getElementById("datosOut").innerHTML=' +
                '        "<div><b>Nombre:</b> " + esc(datos.nombre) + "</div>" +' +
                '        "<div><b>Email:</b> " + esc(datos.email) + "</div>" +' +
                '        "<div><b>Teléfono:</b> " + esc(datos.telefono) + "</div>" +' +
                '        "<div><b>WhatsApp:</b> " + esc(datos.whatsapp) + "</div>";' +
                '      show("step2");' +
                '    });' +
                '    document.getElementById("pagar").addEventListener("click",()=>{' +
                '      if(!datos) return;' +
                '      window.open(curso.urlPago,"_blank","noopener,noreferrer");' +
                '      const subject=encodeURIComponent("Nueva compra - "+curso.nombre);' +
                '      const body=encodeURIComponent(' +
                '        "Curso: "+curso.nombre+"\\nPrecio: "+curso.precio+"\\n\\nCliente:"+' +
                '        "\\n- Nombre: "+datos.nombre+"\\n- Email: "+datos.email+"\\n- Teléfono: "+datos.telefono+"\\n- WhatsApp: "+datos.whatsapp+"\\n\\nFecha: "+(new Date().toLocaleString())' +
                '      );' +
                '      // window.open("mailto:"+notifyEmail+"?subject="+subject+"&body="+body,"_blank");' +
                '      show("step3");' +
                '    });' +
                '  <\\/script>' +
                '</body>' +
                '</html>';

            w.document.open();
            w.document.write(html);
            w.document.close();
        }
</script>
</body>
</html>
